(function($){var timeout,interval,speed,frame_count,current_frame_var,next_frame_var,options,animation_type,allow_animation;var methods={init:function(options){if(typeof options!='undefined'){if(parseInt(options.interval)!='NaN'&&options.interval>1&&typeof options.interval!='undefined'){interval=options.interval}else interval=3000;if(parseInt(options.speed)!='NaN'&&typeof options.speed!='undefined'){speed=options.speed}else speed=500;if(options.animation_type!=''&&typeof options.animation_type!='undefined'){animation_type=options.animation_type}else animation_type='fade'}else{interval=3000;animation_type='fade';speed=500}frame_count=$('#fluid-fader-frames > div').size();current_frame_var=1;next_frame_var=2;allow_animation=true;$('#fluid-fader-frames div').hide();$('#fluid-fader-direction-left').click(function(e){e.preventDefault();if(current_frame_var==1){next_frame_timeout=frame_count}else{next_frame_timeout=current_frame_var-1}$(this).fluidfader('animation_action',{current_frame:current_frame_var,next_frame:next_frame_timeout})});$('#fluid-fader-direction-right').click(function(e){e.preventDefault();$(this).fluidfader('animation_action',{current_frame:current_frame_var,next_frame:next_frame_var})});$('#fluid-fader-links a').click(function(e){e.preventDefault();link_index=$(this).index()+1;if(link_index!=current_frame_var){$(this).fluidfader('animation_action',{current_frame:current_frame_var,next_frame:link_index})}});if(frame_count>1){this.show();$('#fluid-fader-frames div:nth-child(1)').show();$('#fluid-fader-direction-left').show();$('#fluid-fader-direction-right').show();$('#fluid-fader-links').show();$('#fluid-fader-links a:nth-child(1)').addClass('current');timeout=window.setTimeout("$(this).fluidfader('animation_action', {current_frame:1, next_frame:2});",interval)}else $.error('fluidfader.js says: "Only one or less frames, so no fading animation."')},animation_action:function(options){if(parseInt(options.current_frame)=='NaN'||options.next_frame=='NaN'||options.current_frame>frame_count||options.next_frame>frame_count||options.current_frame<1||options.next_frame<1){$.error('fluidfader.js says: "There is a problem with the animation, please check the mark-up of your frames."')}else if(allow_animation===true){allow_animation=false;clearTimeout(timeout);$('#fluid-fader-links a:nth-child('+options.current_frame+')').removeClass('current');$('#fluid-fader-links a:nth-child('+options.next_frame+')').addClass('current');$('#fluid-fader-frames div:nth-child('+options.current_frame+')').css('z-index',2000);$('#fluid-fader-frames div:nth-child('+options.next_frame+')').css('z-index',2001);$(this).fluidfader('animation_type_'+animation_type,options)}},next_animation:function(options){clearTimeout(timeout);current_frame_var=options.next_frame;if(current_frame_var==frame_count){next_frame_var=1}else{next_frame_var=current_frame_var+1}timeout=window.setTimeout("$(this).fluidfader('animation_action', {current_frame:"+current_frame_var+", next_frame:"+next_frame_var+"});",interval);allow_animation=true},animation_type_fade:function(options){$('#fluid-fader-frames div:nth-child('+options.next_frame+')').fadeIn(speed,function(){$('#fluid-fader-frames div:nth-child('+options.current_frame+')').fadeOut(speed/2,function(){$(this).fluidfader('next_animation',options)})})},animation_type_flash:function(options){$('#fluid-fader-frames div:nth-child('+options.current_frame+')').hide(0,function(){$('#fluid-fader-frames div:nth-child('+options.next_frame+')').fadeIn(speed,function(){$(this).fluidfader('next_animation',options)})})}};$.fn.fluidfader=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on fluidfader')}}})(jQuery);